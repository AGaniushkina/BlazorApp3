@page "/booking"
@using Microsoft.AspNetCore.Components.Web
@using Microsoft.AspNetCore.Components.Forms
@using System.ComponentModel.DataAnnotations
@using Smart.Blazor;
@using Newtonsoft.Json;
@using BlazorApp2.Shared;
@inject HttpClient client;

<style>
    .container {
        display: flex;
        padding: 5px;
    }

    /*table style*/
    .table {
        width: 100%;
        border: none;
        margin-bottom: 20px;
        border-collapse: separate;
    }

        .table thead th {
            font-weight: bold;
            text-align: left;
            border: none;
            padding: 10px 15px;
            background: #EDEDED;
            font-size: 16px;
            border-top: 1px solid #ddd;
        }

        .table tr th:first-child, .table tr td:first-child {
            border-left: 1px solid #ddd;
        }

        .table tr th:last-child, .table tr td:last-child {
            border-right: 1px solid #ddd;
        }

        .table thead tr th:first-child {
            border-radius: 20px 0 0 0;
        }

        .table thead tr th:last-child {
            border-radius: 0 20px 0 0;
        }

        .table thead tr th {
            text-align: center; /* выровнять содержимое ячейки по центру */
        }

        .table tbody td {
            text-align: left;
            border: none;
            padding: 10px 15px;
            font-size: 16px;
            vertical-align: top;
            text-align: center; /* выровнять содержимое ячейки по центру */
        }

        .table tbody tr:nth-child(even) {
            background: #F8F8F8;
        }

        .table tbody tr:last-child td {
            border-bottom: 1px solid #ddd;
        }

            .table tbody tr:last-child td:first-child {
                border-radius: 0 0 0 20px;
            }

            .table tbody tr:last-child td:last-child {
                border-radius: 0 0 20px 0;
            }

    td {
        text-align: center; /* выровнять содержимое ячейки по центру */
    }
</style>

<PageTitle>Мои бронирования</PageTitle>

<h3>Мои бронирования</h3>

<div>
    <div class="flights-card">
    <EditForm Model="@Model">

        <p>
            <br />
            <InputText @bind-Value="Model!.login" />
        </p>

        <p>
            <br />
            <InputText @bind-Value="Model!.Id" />
        </p>
            <div style="display: flex; justify-content: flex-end;">
                <Button Class="primary">Найти</Button>
            </div>
    </EditForm>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th>Вылет</th>
                <th>Прилет</th>
                <th>Рейс</th>
                <th>Самолет</th>
                <th>Цена</th>
            </tr>
        </thead>
        <tbody>
@*             @foreach (var item in PassengerFlights)
            {
                <tr>
                    <td>@item.flight.DepartureDate.ToString("dd MMM yyyy HH:mm")</td>
                    <td>@item.flight.ArrivalDate.ToString("dd MMM yyyy HH:mm")</td>
                    <td>@item.flight.FlightNumber</td>
                    <td>@item.flight.Plane</td>
                    <td>@item.flight.Price ₽</td>

                </tr>
            } *@
        </tbody>
    </table>
</div>

@code {

    public Passenger? Model { get; set; }

    protected override void OnInitialized() => Model ??= new();

    public class Passenger
    {
        [Required]
        public string? login { get; set; } = "Surname or email";
        public string? Id { get; set; } = "Order ID, booking ID or eTicket number";
    }
}
